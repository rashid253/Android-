<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Offers - MyBusiness Premium</title>
  <link rel="stylesheet" href="style.css" />
  <!-- FontAwesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" 
        integrity="sha512-dNcPzTvY1T6Zhk1D2Bl72e+ik2Q/9rj2NjJ34cJN6JExZhZ+5fLxB+XKWWkZoLNRtIdFiYGh8U3vZpQRfa6NRw==" 
        crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script src="script.js" defer></script>
</head>
<body>
  <!-- External Header -->
  <div id="header"></div>

  <!-- Main Content -->
  <main class="container">
    <h1>Exclusive Offers</h1>
    <p>Discover our latest deals and promotions. These offers are updated regularly and are available for a limited time only.</p>
    <section id="offers-container">
      <!-- Offers will be dynamically injected here -->
    </section>
  </main>

  <!-- External Footer -->
  <div id="footer"></div>

  <script>
    // Load the external header and footer files dynamically
    document.addEventListener("DOMContentLoaded", function() {
      fetch("header.html")
        .then(response => response.text())
        .then(data => {
          document.getElementById("header").innerHTML = data;
        });
      fetch("footer.html")
        .then(response => response.text())
        .then(data => {
          document.getElementById("footer").innerHTML = data;
        });

      // Dummy function to simulate fetching offer data.
      // Later, replace this with Firebase Firestore API calls.
      function fetchOffers() {
        return [
          { id: 1, title: "50% Off on Electronics", description: "Get half price on selected electronic items." },
          { id: 2, title: "Buy 1 Get 1 Free", description: "Special offer on clothing and accessories." },
          { id: 3, title: "Free Shipping", description: "Enjoy free shipping on orders over $50." }
        ];
      }

      // Function to display the offers on the page
      function displayOffers() {
        const offers = fetchOffers();
        const container = document.getElementById("offers-container");
        if (!offers || offers.length === 0) {
          container.innerHTML = "<p>No offers available at the moment. Please check back later!</p>";
          return;
        }
        let html = "";
        offers.forEach(offer => {
          html += `
            <div class="offer-item" id="offer-${offer.id}">
              <h2>${offer.title}</h2>
              <p>${offer.description}</p>
            </div>
          `;
        });
        container.innerHTML = html;
      }

      displayOffers();
    });
  </script>
</body>
</html>
