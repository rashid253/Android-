<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>NextGen E-commerce - Product Showcase</title>
  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    /* Global Styles */
    body {
      font-family: 'Roboto', sans-serif;
      background-color: #f4f4f4;
      color: #333;
    }
    .page-section { display: none; }
    /* Main page is visible by default */
    #mainPage { display: block; }
    /* Horizontal Scroll Container */
    .horizontal-scroll {
      display: flex;
      overflow-x: auto;
      gap: 1rem;
      padding-bottom: 1rem;
    }
    /* Hide scrollbar */
    .horizontal-scroll::-webkit-scrollbar {
      display: none;
    }
    .horizontal-scroll {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    /* Product Card (used on both pages) */
    .card { cursor: pointer; }
  </style>
</head>
<body>
  <div class="container my-4" id="mainPage">
    <h1 class="mb-4">Product Categories</h1>
    <!-- Categories: Each section shows a horizontal scrolling list of product tiles -->
    <div id="categoriesContainer">
      <!-- Dynamic content generated by JavaScript -->
    </div>
  </div>

  <!-- Category Page: Vertical grid of products for a selected category -->
  <div class="container my-4" id="categoryPage">
    <button class="btn btn-secondary mb-3" onclick="backToMain()">Back to Categories</button>
    <h2 id="categoryTitle"></h2>
    <div class="row" id="categoryProducts">
      <!-- Dynamic vertical grid of products -->
    </div>
  </div>

  <!-- Modal: Product Details with Add to Cart option -->
  <div class="modal fade" id="productModal" tabindex="-1" aria-labelledby="productModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="productModalLabel">Product Details</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <img id="modalProductImage" src="" class="img-fluid mb-3" alt="Product Image">
          <h4 id="modalProductName"></h4>
          <p id="modalProductPrice" class="text-danger h5"></p>
          <p id="modalProductDescription"></p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-primary">Add to Cart</button>
        </div>
      </div>
    </div>
  </div>

  <!-- JavaScript: Sample Data & Functions -->
  <script>
    // Sample product data per category
    const productData = {
      "Countdown Sales": [
        { name: "Smartphone A", price: "$300", description: "High-performance smartphone.", image: "https://via.placeholder.com/300x200?text=Smartphone+A" },
        { name: "Smart TV B", price: "$500", description: "4K Ultra HD Smart TV.", image: "https://via.placeholder.com/300x200?text=Smart+TV+B" },
        { name: "Laptop C", price: "$800", description: "Gaming laptop with high performance.", image: "https://via.placeholder.com/300x200?text=Laptop+C" }
      ],
      "Discount Offers": [
        { name: "Headphones D", price: "$50", description: "Noise cancelling headphones.", image: "https://via.placeholder.com/300x200?text=Headphones+D" },
        { name: "Speaker E", price: "$70", description: "Wireless speaker with deep bass.", image: "https://via.placeholder.com/300x200?text=Speaker+E" },
        { name: "Camera F", price: "$250", description: "High resolution digital camera.", image: "https://via.placeholder.com/300x200?text=Camera+F" }
      ],
      "Hot Sales": [
        { name: "Smartwatch G", price: "$120", description: "Feature-rich smartwatch.", image: "https://via.placeholder.com/300x200?text=Smartwatch+G" },
        { name: "Tablet H", price: "$200", description: "Latest generation tablet.", image: "https://via.placeholder.com/300x200?text=Tablet+H" },
        { name: "Drone I", price: "$350", description: "High-performance drone.", image: "https://via.placeholder.com/300x200?text=Drone+I" }
      ],
      "Seasonal Offers": [
        { name: "Jacket J", price: "$80", description: "Warm and stylish jacket.", image: "https://via.placeholder.com/300x200?text=Jacket+J" },
        { name: "Boots K", price: "$90", description: "Comfortable boots.", image: "https://via.placeholder.com/300x200?text=Boots+K" },
        { name: "Scarf L", price: "$20", description: "Cozy scarf for winter.", image: "https://via.placeholder.com/300x200?text=Scarf+L" }
      ],
      "Clearance Sale": [
        { name: "Old Model Phone M", price: "$150", description: "Last year's smartphone model.", image: "https://via.placeholder.com/300x200?text=Phone+M" },
        { name: "Outdated TV N", price: "$100", description: "Old model television.", image: "https://via.placeholder.com/300x200?text=TV+N" },
        { name: "Vintage Laptop O", price: "$250", description: "Vintage laptop with classic design.", image: "https://via.placeholder.com/300x200?text=Laptop+O" }
      ]
    };

    // Populate main page with categories and horizontal scroll sections
    function initMainPage() {
      const container = document.getElementById("categoriesContainer");
      container.innerHTML = "";
      for (let category in productData) {
        // Create category section with title
        let section = document.createElement("div");
        section.innerHTML = `<h2 class="mt-4">${category}</h2>
          <div class="horizontal-scroll" id="scroll-${category.replace(/\s/g, '')}"></div>`;
        container.appendChild(section);
        let scrollContainer = document.getElementById(`scroll-${category.replace(/\s/g, '')}`);
        // Add product tiles for the category
        productData[category].forEach(product => {
          let card = document.createElement("div");
          card.className = "card";
          card.style.minWidth = "200px";
          card.style.marginRight = "1rem";
          // On click, open the category page for this category
          card.onclick = function() {
            openCategoryPage(category);
          };
          card.innerHTML = `<img src="${product.image}" class="card-img-top" alt="${product.name}">
            <div class="card-body">
              <h6 class="card-title">${product.name}</h6>
              <p class="card-text">${product.price}</p>
            </div>`;
          scrollContainer.appendChild(card);
        });
      }
    }

    // Open category page with vertical grid layout
    function openCategoryPage(category) {
      document.getElementById("mainPage").style.display = "none";
      document.getElementById("categoryPage").style.display = "block";
      document.getElementById("categoryTitle").innerText = category;
      const grid = document.getElementById("categoryProducts");
      grid.innerHTML = "";
      productData[category].forEach(product => {
        let col = document.createElement("div");
        col.className = "col-md-4 mb-4";
        let card = document.createElement("div");
        card.className = "card";
        // On click, open modal with product details
        card.onclick = function() {
          openProductModal(product);
        };
        card.innerHTML = `<img src="${product.image}" class="card-img-top" alt="${product.name}">
          <div class="card-body">
            <h6 class="card-title">${product.name}</h6>
            <p class="card-text">${product.price}</p>
          </div>`;
        col.appendChild(card);
        grid.appendChild(col);
      });
    }

    // Back to main page (categories)
    function backToMain() {
      document.getElementById("categoryPage").style.display = "none";
      document.getElementById("mainPage").style.display = "block";
    }

    // Open modal with product details (includes Add to Cart option)
    function openProductModal(product) {
      document.getElementById("modalProductImage").src = product.image;
      document.getElementById("modalProductName").innerText = product.name;
      document.getElementById("modalProductPrice").innerText = product.price;
      document.getElementById("modalProductDescription").innerText = product.description;
      var modal = new bootstrap.Modal(document.getElementById("productModal"));
      modal.show();
    }

    // Initialize main page on load
    window.onload = function() {
      initMainPage();
    };
  </script>

  <!-- Bootstrap 5 JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
